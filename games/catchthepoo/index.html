<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        background-color: #0099cc;
        margin: 0;
        padding: 0;
        font-family: sans-serif;
      }
      canvas {
        display: block;
        margin: auto;
        background-color: #0099cc;
        border: 1px solid #ccc;
        width: 50%;
        height: 50%;
      }
      .score {
        position: absolute;
        top: 10px;
        left: 10px;
        font-size: 24px;
      }
    </style>
  </head>
  <body>
    <div class="score">Score: <span id="score">0</span></div>
    <canvas id="canvas"></canvas>
    <script>
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      const scoreElement = document.getElementById("score");
      let score = 0;
      let currentPoop = null;
      const toilet = {
        x: canvas.width / 2,
        y: canvas.height - 100,
        width: 50,
        height: 30,
        speed: 20,
      };
      function drawText(x, y, text, fontSize, color) {
        ctx.font = `${fontSize}px sans-serif`;
        ctx.fillStyle = color;
        ctx.fillText(text, x, y);
      }
      function drawPoop() {
        if (!currentPoop) {
          const x = Math.floor(Math.random() * canvas.width);
          currentPoop = { x, y: 0 };
        }
        currentPoop.y += 5;
        drawText(currentPoop.x, currentPoop.y, "ðŸ’©", 15, "#996633");
        if (currentPoop.y > canvas.height) {
          currentPoop = null;
        }
        if (
          currentPoop.y + 15 > toilet.y &&
          currentPoop.y < toilet.y + toilet.height &&
          currentPoop.x + 15 > toilet.x &&
          currentPoop.x < toilet.x + toilet.width
        ) {
          currentPoop = null;
          score++;
          scoreElement.textContent = score;
        }
      }
      function moveToilet(event) {
        if (event.keyCode === 37 && toilet.x > 0) {
          ctx.clearRect(toilet.x, toilet.y, toilet.width, toilet.height);
          toilet.x -= toilet.speed;
        } else if (
          event.keyCode === 39 &&
          toilet.x + toilet.width < canvas.width
        ) {
          ctx.clearRect(toilet.x, toilet.y, toilet.width, toilet.height);
          toilet.x += toilet.speed;
        }
        drawText(toilet.x, toilet.y, "ðŸš½", 15, "#336699");
      }
      function gameLoop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawPoop();
        requestAnimationFrame(gameLoop);
      }
      document.addEventListener("keydown", moveToilet);
      gameLoop();
    </script>
  </body>
</html>
