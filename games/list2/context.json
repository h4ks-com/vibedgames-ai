{
  "messages": [
    {
      "role": "user",
      "content": "Please use the following code as a base to update:\n```\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>IRC WebSocket Client</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n            padding: 20px;\n            background-color: #f4f4f4;\n        }\n        #output {\n            border: 1px solid #ccc;\n            padding: 10px;\n            background-color: #fff;\n            height: 300px;\n            overflow-y: scroll;\n        }\n        button {\n            padding: 10px 15px;\n            margin-top: 10px;\n        }\n    </style>\n</head>\n<body>\n    <h1>IRC WebSocket Client</h1>\n    <div id=\"output\"></div>\n    <button id=\"connectButton\">Connect and LIST</button>\n\n    <script>\n        const outputDiv = document.getElementById('output');\n        const connectButton = document.getElementById('connectButton');\n\n        connectButton.addEventListener('click', () => {\n            const ws = new WebSocket('ws://irc.h4ks.com:8097');\n            const uniqueNick = 'doesnm' + Math.floor(Math.random() * 1000); // Generate a unique nickname\n\n            ws.onopen = () => {\n                outputDiv.innerHTML += '<p>Connected to IRC server.</p>';\n                ws.send(`NICK ${uniqueNick}`); // Set your unique nickname\n                ws.send(`USER ${uniqueNick} 0 * :My IRC Client`); // Set your user info\n                ws.send('LIST'); // Send LIST command\n            };\n\n            ws.onmessage = (event) => {\n                const message = event.data;\n                outputDiv.innerHTML += `<p>${message}</p>`;\n                outputDiv.scrollTop = outputDiv.scrollHeight; // Scroll to the bottom\n            };\n\n            ws.onerror = (error) => {\n                outputDiv.innerHTML += `<p style=\"color: red;\">Error: ${error.message}</p>`;\n            };\n\n            ws.onclose = () => {\n                outputDiv.innerHTML += '<p>Disconnected from IRC server.</p>';\n            };\n        });\n    </script>\n</body>\n</html>\n\n```"
    },
    {
      "role": "user",
      "content": "change \"ws\" to \"wss\" this is secure babeh\nMake sure everything is kept in a single HTML file with embedded CSS and JS in a single code block to be used as a web app."
    },
    {
      "role": "assistant",
      "content": "Here's the updated HTML code with the WebSocket connection changed from `ws` to `wss` for a secure connection. The entire code is kept in a single HTML file with embedded CSS and JavaScript:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>IRC WebSocket Client</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n            padding: 20px;\n            background-color: #f4f4f4;\n        }\n        #output {\n            border: 1px solid #ccc;\n            padding: 10px;\n            background-color: #fff;\n            height: 300px;\n            overflow-y: scroll;\n        }\n        button {\n            padding: 10px 15px;\n            margin-top: 10px;\n        }\n    </style>\n</head>\n<body>\n    <h1>IRC WebSocket Client</h1>\n    <div id=\"output\"></div>\n    <button id=\"connectButton\">Connect and LIST</button>\n\n    <script>\n        const outputDiv = document.getElementById('output');\n        const connectButton = document.getElementById('connectButton');\n\n        connectButton.addEventListener('click', () => {\n            const ws = new WebSocket('wss://irc.h4ks.com:8097'); // Changed to secure WebSocket\n            const uniqueNick = 'doesnm' + Math.floor(Math.random() * 1000); // Generate a unique nickname\n\n            ws.onopen = () => {\n                outputDiv.innerHTML += '<p>Connected to IRC server.</p>';\n                ws.send(`NICK ${uniqueNick}`); // Set your unique nickname\n                ws.send(`USER ${uniqueNick} 0 * :My IRC Client`); // Set your user info\n                ws.send('LIST'); // Send LIST command\n            };\n\n            ws.onmessage = (event) => {\n                const message = event.data;\n                outputDiv.innerHTML += `<p>${message}</p>`;\n                outputDiv.scrollTop = outputDiv.scrollHeight; // Scroll to the bottom\n            };\n\n            ws.onerror = (error) => {\n                outputDiv.innerHTML += `<p style=\"color: red;\">Error: ${error.message}</p>`;\n            };\n\n            ws.onclose = () => {\n                outputDiv.innerHTML += '<p>Disconnected from IRC server.</p>';\n            };\n        });\n    </script>\n</body>\n</html>\n```\n\nThis code now uses a secure WebSocket connection (`wss://`) and retains all the original functionality within a single HTML file."
    }
  ]
}