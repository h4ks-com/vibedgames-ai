<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Blockchain NFT Prompts</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            position: relative;
        }
        h1 {
            text-align: center;
        }
        #promptForm {
            margin-bottom: 20px;
        }
        #promptList {
            margin-top: 20px;
        }
        .prompt {
            background: white;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .prompt h3 {
            margin: 0;
        }
        #graphContainer {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            height: 300px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            padding: 10px;
        }
        #graph {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

<h1>Dynamic Blockchain NFT Prompts</h1>
<div>
    <label for="beans">Your Beans: </label>
    <span id="beans">100</span>
</div>

<div id="promptForm">
    <input type="text" id="promptInput" placeholder="Enter your prompt" />
    <button id="addPromptBtn">Add Prompt (10 Beans)</button>
</div>

<div id="promptList"></div>
<div id="graphContainer">
    <canvas id="graph"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    let userBeans = 100;
    const prompts = [];
    const ctx = document.getElementById('graph').getContext('2d');
    let chart;

    document.getElementById('addPromptBtn').addEventListener('click', () => {
        const promptText = document.getElementById('promptInput').value;
        if (promptText && userBeans >= 10) {
            userBeans -= 10;
            document.getElementById('beans').innerText = userBeans;
            const prompt = { text: promptText, value: 10, votes: 0 };
            prompts.push(prompt);
            document.getElementById('promptInput').value = '';
            updatePromptList();
        } else {
            alert('You need more beans or enter a valid prompt!');
        }
    });

    function updatePromptList() {
        const promptList = document.getElementById('promptList');
        promptList.innerHTML = '';
        prompts.forEach((prompt, index) => {
            const promptDiv = document.createElement('div');
            promptDiv.className = 'prompt';
            promptDiv.innerHTML = `
                <h3>${prompt.text}</h3>
                <p>Value: ${prompt.value} Beans</p>
                <button onclick="votePrompt(${index})">Vote</button>
            `;
            promptList.appendChild(promptDiv);
        });
        updateGraph();
    }

    function votePrompt(index) {
        prompts[index].votes += 1;
        prompts[index].value = 10 + prompts[index].votes * 5; // Update value based on votes
        updateGraph();
    }

    function updateGraph() {
        const labels = prompts.map((_, index) => `Prompt ${index + 1}`);
        const data = prompts.map(prompt => prompt.value);

        if (chart) {
            chart.data.labels = labels;
            chart.data.datasets[0].data = data;
            chart.update();
        } else {
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Prompt Value in Beans',
                        data: data,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 2,
                        fill: false
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }
    }

    // Simulate real-time market changes every second
    setInterval(() => {
        prompts.forEach(prompt => {
            const randomChange = Math.floor(Math.random() * 5) - 2; // Random change between -2 and 2
            prompt.value = Math.max(0, prompt.value + randomChange);
        });
        updateGraph();
    }, 1000);
</script>
</body>
</html>
