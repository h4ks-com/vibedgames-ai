{
  "messages": [
    {
      "role": "user",
      "content": "user controls emoji with 'y' (up left), 'u' (up right), 'g' (left), 'h' (pass), 'j' (right), 'b' (down left), 'n' (down right); background tiled https://picsum.photos/64/64; animated monsters, random collectible items; gems increase score, monsters decrease health\nMake sure everything is in a single HTML file with embedded CSS and JS in a single code block to be used as a web app."
    },
    {
      "role": "assistant",
      "content": "```html\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Emoji Control Game</title>\n    <style>\n        body {\n            margin: 0;\n            overflow: hidden;\n            background-image: url('https://picsum.photos/64/64');\n            background-repeat: repeat;\n        }\n\n        canvas {\n            display: block;\n            margin: auto;\n            background-color: rgba(255, 255, 255, 0.8);\n            border: 1px solid #000;\n        }\n\n        .score {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            font-size: 20px;\n            color: #333;\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"score\">Score: 0 | Health: 100</div>\n    <canvas id=\"gameCanvas\" width=\"800\" height=\"600\"></canvas>\n\n    <script>\n        const canvas = document.getElementById('gameCanvas');\n        const ctx = canvas.getContext('2d');\n\n        const emoji = 'ðŸ˜€';\n        const monsters = [];\n        const gems = [];\n        let score = 0;\n        let health = 100;\n        let emojiPos = { x: canvas.width / 2, y: canvas.height / 2 };\n\n        function drawEmoji() {\n            ctx.font = '48px sans-serif';\n            ctx.fillText(emoji, emojiPos.x, emojiPos.y);\n        }\n\n        function drawMonsters() {\n            monsters.forEach(monster => {\n                ctx.fillText('ðŸ‘¾', monster.x, monster.y);\n            });\n        }\n\n        function drawGems() {\n            gems.forEach(gem => {\n                ctx.fillText('ðŸ’Ž', gem.x, gem.y);\n            });\n        }\n\n        function update() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            drawEmoji();\n            drawMonsters();\n            drawGems();\n            document.querySelector('.score').innerText = `Score: ${score} | Health: ${health}`;\n        }\n\n        function spawnMonster() {\n            const x = Math.random() * canvas.width;\n            const y = Math.random() * canvas.height;\n            monsters.push({ x, y });\n        }\n\n        function spawnGem() {\n            const x = Math.random() * canvas.width;\n            const y = Math.random() * canvas.height;\n            gems.push({ x, y });\n        }\n\n        function checkCollisions() {\n            monsters.forEach((monster, index) => {\n                if (Math.abs(emojiPos.x - monster.x) < 30 && Math.abs(emojiPos.y - monster.y) < 30) {\n                    health -= 10;\n                    monsters.splice(index, 1);\n                }\n            });\n\n            gems.forEach((gem, index) => {\n                if (Math.abs(emojiPos.x - gem.x) < 30 && Math.abs(emojiPos.y - gem.y) < 30) {\n                    score += 10;\n                    gems.splice(index, 1);\n                }\n            });\n        }\n\n        function moveEmoji(event) {\n            switch (event.key) {\n                case 'y':\n                    emojiPos.x -= 5;\n                    emojiPos.y -= 5;\n                    break;\n                case 'u':\n                    emojiPos.x += 5;\n                    emojiPos.y -= 5;\n                    break;\n                case 'g':\n                    emojiPos.x -= 5;\n                    break;\n                case 'h':\n                    // Pass, do nothing\n                    break;\n                case 'j':\n                    emojiPos.x += 5;\n                    break;\n                case 'b':\n                    emojiPos.x -= 5;\n                    emojiPos.y += 5;\n                    break;\n                case 'n':\n                    emojiPos.x += 5;\n                    emojiPos.y += 5;\n                    break;\n            }\n        }\n\n        document.addEventListener('keydown', moveEmoji);\n\n        setInterval(() => {\n            spawnMonster();\n            spawnGem();\n            checkCollisions();\n            update();\n        }, 1000);\n\n    </script>\n</body>\n\n</html>\n```"
    }
  ]
}