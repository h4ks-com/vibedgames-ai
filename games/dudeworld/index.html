<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Frame Web VR Environment</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: #000; }
        #loader { color: white; font-size: 24px; position: absolute; }
    </style>
</head>
<body>
    <div id="loader">Loading...</div>
    <a-scene>
        <a-sky id="sky" color="#000"></a-sky>
        <a-entity id="box" geometry="primitive: box" material="color: #4CC3D9" position="0 1 -5"></a-entity>
        <a-entity id="text" position="0 2 -5" text="value: Loading...; color: #FFF"></a-entity>
        <a-entity camera look-controls position="0 1.6 0"></a-entity>
        <a-entity light="type: ambient; color: #888"></a-entity>
    </a-scene>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch('https://games.h4ks.com/game/dudeapi');
                const data = await response.json();

                // Populate the scene with data
                const sky = document.getElementById('sky');
                const box = document.getElementById('box');
                const text = document.getElementById('text');
                const loader = document.getElementById('loader');

                // Update the scene based on API response
                sky.setAttribute('color', data.skyColor || '#000'); // Update sky color
                box.setAttribute('material', `color: ${data.boxColor || '#4CC3D9'}`); // Update box color
                text.setAttribute('text', `value: ${data.message || 'Hello, VR!'}; color: #FFF`); // Update text
                loader.style.display = 'none'; // Hide loader
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        });
    </script>
</body>
</html>
