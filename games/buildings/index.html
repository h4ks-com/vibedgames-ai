<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web VR A-Frame City Map</title>
    <style>
        body { margin: 0; }
        a-scene { height: 100vh; }
    </style>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
</head>
<body>
    <a-scene>
        <a-box position="0 0.5 0" depth="0.5" height="0.5" width="0.5" color="#4CC3D9"></a-box>
        <a-sky color="#87CEEB"></a-sky>
        <a-plane rotation="-90 0 0" width="1000" height="1000" color="#32CD32"></a-plane>

        <a-entity id="model" position="0 0 0"></a-entity>
        
        <a-camera position="0 1.6 5"></a-camera>
    </a-scene>

    <script>
        const baseUrl = "https://api.syte.ms/api/3d/gltf/DENW49AL00009XTX";

        function loadModel() {
            const randomSuffix = Math.random().toString(36).substring(2, 5).toUpperCase(); // Generate random letters
            const modelUrl = baseUrl.slice(0, -3) + randomSuffix;
            const modelEntity = document.getElementById('model');
            
            modelEntity.setAttribute('gltf-model', modelUrl);
            modelEntity.addEventListener('model-loaded', () => {
                console.log('Model loaded successfully:', modelUrl);
            });
            modelEntity.addEventListener('model-error', () => {
                console.error('Model load failed, trying a new URL:', modelUrl);
                setTimeout(loadModel, 1000); // Retry after a second
            });
        }

        loadModel(); // Initiate the model loading process
    </script>
</body>
</html>
