<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Raindrops in WebVR</title>
    <meta name="description" content="A-Frame Raindrops Demo">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      #instructions {
        position: absolute;
        top: 20px;
        left: 20px;
        color: white;
        font-family: Arial, sans-serif;
        z-index: 10;
      }
    </style>
  </head>
  <body>
    <div id="instructions">Press "Enter" to start the rain!</div>
    <a-scene>
      <a-entity light="type: ambient; color: #888"></a-entity>
      <a-entity light="type: directional; color: #fff; intensity: 0.5; position: 0 1 1"></a-entity>
      <a-entity camera look-controls position="0 1.6 0"></a-entity>
      <a-entity id="ground" geometry="primitive: plane; width: 10; height: 10" material="color: #7B9A7E" rotation="-90 0 0" position="0 0 0"></a-entity>
    </a-scene>
  
    <script>
      const raindrops = 10;
      const drops = [];

      function createRaindrop(x, z) {
        const drop = document.createElement('a-sphere');
        drop.setAttribute('radius', 0.05);
        drop.setAttribute('color', '#00f');
        drop.setAttribute('position', `${x} 5 ${z}`);
        drop.setAttribute('animation', 'property: position; to: ' + `${x} 0 ${z}` + '; dir: normal; dur: 2000; easing: linear');
        document.querySelector('a-scene').appendChild(drop);
        drops.push(drop);
      }

      function cubicPolynomial(t) {
        return 0.25 * Math.pow(t, 3) - 0.75 * Math.pow(t, 2) + 1; // Simple cubic polynomial for movement
      }

      function generateRaindrops() {
        for (let i = 0; i < raindrops; i++) {
          const x = (Math.random() * 10) - 5; // Random x position within [-5, 5]
          const z = (Math.random() * 10) - 5; // Random z position within [-5, 5]
          createRaindrop(x, z);
        }
      }

      document.getElementById('instructions').addEventListener('click', function() {
        generateRaindrops();
        this.style.display = 'none'; // Hide instructions after starting rain
      });
    </script>
  </body>
</html>
