 <!DOCTYPE html>
 <html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rule 110 Emoji Cellular Automaton ðŸ¤–</title>
  <style>
  body {
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #f0f0f0;
  }

  #grid-container {
  display: flex;
  flex-direction: column;
  }

  .row {
  display: flex;
  }

  .cell {
  width: 20px;
  height: 20px;
  text-align: center;
  line-height: 20px;
  font-size: 16px;
  }

  .alive {
  background-color: black;
  color: yellow;
  }

  .dead {
  background-color: white;
  color: black;
  }

  button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  margin-top: 10px;
  }
  </style>
 </head>
 <body>
  <h1>Rule 110 Emoji Cellular Automaton ðŸ¤–</h1>
  <div id="grid-container"></div>
  <button id="run-button">Run ðŸš€</button>
  <button id="reset-button">Reset ðŸ”„</button>

  <script>
  const gridContainer = document.getElementById('grid-container');
  const runButton = document.getElementById('run-button');
  const resetButton = document.getElementById('reset-button');

  const width = 60;
  let grid = [];
  let isRunning = false;
  let intervalId;

  const ALIVE = 'ðŸ˜€';
  const DEAD = ' ';

  function createGrid() {
  grid = [];
  for (let i = 0; i < width; i++) {
  grid.push(DEAD);
  }
  grid[Math.floor(width / 2)] = ALIVE; // Initial condition
  }

  function renderGrid() {
  gridContainer.innerHTML = '';
  const rowElement = document.createElement('div');
  rowElement.classList.add('row');
  for (let i = 0; i < width; i++) {
  const cellElement = document.createElement('div');
  cellElement.classList.add('cell');
  cellElement.textContent = grid[i];

  if (grid[i] === ALIVE) {
  cellElement.classList.add('alive');
  } else {
  cellElement.classList.add('dead');
  }
  rowElement.appendChild(cellElement);
  }
  gridContainer.appendChild(rowElement);
  }

  function applyRule110() {
  const nextGrid = [];
  for (let i = 0; i < width; i++) {
  const left = grid[(i - 1 + width) % width] === ALIVE ? 1 : 0;
  const center = grid[i] === ALIVE ? 1 : 0;
  const right = grid[(i + 1) % width] === ALIVE ? 1 : 0;

  const ruleNumber = parseInt(`${left}${center}${right}`, 2);

  // Rule 110 in binary is 01101110, reversed it's 01110110 which is 110
  if ([0, 2, 3, 4, 5, 6].includes(ruleNumber)) {
  nextGrid.push(ALIVE);
  } else {
  nextGrid.push(DEAD);
  }
  }
  grid = nextGrid;
  }

  function step() {
  applyRule110();
  renderGrid();
  }

  function runSimulation() {
  isRunning = true;
  runButton.textContent = 'Stop ðŸ›‘';
  intervalId = setInterval(step, 100);
  }

  function stopSimulation() {
  isRunning = false;
  runButton.textContent = 'Run ðŸš€';
  clearInterval(intervalId);
  }

  runButton.addEventListener('click', () => {
  if (isRunning) {
  stopSimulation();
  } else {
  runSimulation();
  }
  });

  resetButton.addEventListener('click', () => {
  stopSimulation();
  createGrid();
  renderGrid();
  });

  createGrid();
  renderGrid();
  </script>
 </body>
 </html>
