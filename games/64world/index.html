<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebVR A-Frame Random String Shapes</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
      body { margin: 0; }
      #container {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%; 
        display: flex; align-items: center; justify-content: center;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <a-scene>
        <a-entity id="shapes-group"></a-entity>
        <a-camera position="0 1.6 0"></a-camera>
      </a-scene>
    </div>

    <script>
      // Generate a random string of 64 characters
      function generateRandomString(length) {
        const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._';
        let result = '';
        for (let i = 0; i < length; i++) {
          result += characters.charAt(Math.floor(Math.random() * characters.length));
        }
        return result;
      }

      // Map character to shape and color
      function characterToShapeAndColor(character) {
        const shapes = {
          'a': { shape: 'box', color: 'red', size: 0.5 },
          'b': { shape: 'sphere', color: 'blue', size: 0.5 },
          'c': { shape: 'cylinder', color: 'green', size: 0.5 },
          // Add more mappings as needed
        };

        // Default shape and color for undefined characters
        return shapes[character] || { shape: 'box', color: 'gray', size: 0.3 };
      }

      // Define positions for 64 objects
      const positions = [];
      for (let x = -3; x <= 3; x += 1) {
        for (let z = -3; z <= 3; z += 1) {
          positions.push(`${x} 0.5 ${z}`);
        }
      }

      // Create objects in the A-Frame scene
      function createShapes(randomString) {
        const shapesGroup = document.getElementById('shapes-group');
        positions.forEach((position, index) => {
          const character = randomString.charAt(index);
          const { shape, color, size } = characterToShapeAndColor(character);

          const shapeEntity = document.createElement('a-entity');
          shapeEntity.setAttribute('position', position);
          shapeEntity.setAttribute('geometry', `primitive: ${shape}; height: ${size}; width: ${size}; depth: ${size}`);
          shapeEntity.setAttribute('material', `color: ${color}`);
          shapesGroup.appendChild(shapeEntity);
        });
      }

      // Generate the random string and create shapes
      const randomString = generateRandomString(64);
      createShapes(randomString);
      console.log(randomString); // Log the random string to the console
    </script>
  </body>
</html>
