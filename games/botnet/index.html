<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRC Bot Control Panel</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
        }
        #botStatus {
            margin: 20px 0;
            padding: 10px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        #controls {
            margin-top: 20px;
        }
        input[type="text"] {
            width: 200px;
            padding: 5px;
            margin-right: 10px;
        }
        button {
            padding: 5px 10px;
        }
    </style>
</head>
<body>

<h1>IRC Bot Control Panel</h1>
<div id="botStatus"></div>
<div id="controls">
    <input type="text" id="channel" placeholder="#channel">
    <button id="joinBtn">Join Channel</button>
    <button id="partBtn">Part Channel</button>
    <button id="messageBtn">Send Message</button>
    <input type="text" id="message" placeholder="Message">
</div>

<script>
    const botCount = 3;
    const bots = [];
    const botStatusDiv = document.getElementById('botStatus');
    const channelInput = document.getElementById('channel');
    const messageInput = document.getElementById('message');

    function generateRandomNick() {
        return 'Bot' + Math.floor(Math.random() * 1000);
    }

    function createBot() {
        const nick = generateRandomNick();
        const ws = new WebSocket('ws://localhost:8080'); // Change to your WebSocket server

        ws.onopen = () => {
            ws.send(`NICK ${nick}`);
            ws.send(`USER ${nick} 0 * :${nick}`);
            ws.send(`JOIN #bots`);
            ws.send(`PRIVMSG #bots :Joined and ready`);
            updateBotStatus(`${nick} connected and joined #bots`);
        };

        ws.onmessage = (event) => {
            updateBotStatus(`Message from ${nick}: ${event.data}`);
        };

        ws.onclose = () => {
            updateBotStatus(`${nick} disconnected`);
        };

        return ws;
    }

    function updateBotStatus(message) {
        botStatusDiv.innerHTML += `<div>${message}</div>`;
    }

    for (let i = 0; i < botCount; i++) {
        bots.push(createBot());
    }

    document.getElementById('joinBtn').onclick = () => {
        const channel = channelInput.value;
        bots.forEach(ws => {
            ws.send(`JOIN ${channel}`);
            ws.send(`PRIVMSG ${channel} :Joined ${channel}`);
        });
    };

    document.getElementById('partBtn').onclick = () => {
        const channel = channelInput.value;
        bots.forEach(ws => {
            ws.send(`PART ${channel}`);
            ws.send(`PRIVMSG ${channel} :Parted ${channel}`);
        });
    };

    document.getElementById('messageBtn').onclick = () => {
        const message = messageInput.value;
        const channel = channelInput.value;
        bots.forEach(ws => {
            ws.send(`PRIVMSG ${channel} :${message}`);
        });
    };
</script>

</body>
</html>
