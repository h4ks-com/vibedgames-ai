<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Explosive Visuals</title>
<link rel="stylesheet" href="style.css" />
<style>
  html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
  #explosionCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: 9999;
    }
</style>
</head>
<body>
<canvas id="explosionCanvas"></canvas>
<script>
const canvas = document.getElementById("explosionCanvas");
const ctx = canvas.getContext("2d");
let devicePixelRatio = window.devicePixelRatio || 1;

function resizeCanvas() {
  canvas.width = window.innerWidth * devicePixelRatio;
  canvas.height = window.innerHeight * devicePixelRatio;
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.scale(devicePixelRatio, devicePixelRatio);
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

class Particle {
  constructor(x, y, color) {
    this.x = x;
    this.y = y;
    this.size = Math.random() * 3 + 1;
    this.color = color;
    const angle = Math.random() * 2 * Math.PI;
    const speed = Math.random() * 10 + 2;
    this.vx = Math.cos(angle) * speed;
    this.vy = Math.sin(angle) * speed;
    this.alpha = 1;
    this.life = Math.random() * 50 + 50;
    this.age = 0;
  }
  update() {
    this.x += this.vx * 0.016;
    this.y += this.vy * 0.016;
    this.alpha -= 1 / this.life;
    this.age++;
  }
  draw() {
    ctx.globalAlpha = this.alpha;
    const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size * 2);
    gradient.addColorStop(0, this.color);
    gradient.addColorStop(1, "rgba(0, 0, 0, 0)");
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fill();
  }
}

class Explosion {
  constructor(x, y, colorScheme) {
    this.x = x;
    this.y = y;
    this.particles = [];
    this.isFinished = false;
    this.createParticles(colorScheme);
    this.age = 0;
  }
  createParticles(colorScheme) {
    const particleCount = Math.floor(Math.random() * 100) + 50;
    for (let i = 0; i < particleCount; i++) {
      const color = colorScheme[Math.floor(Math.random() * colorScheme.length)];
      this.particles.push(new Particle(this.x, this.y, color));
    }
  }
  update() {
    this.particles.forEach(p => p.update());
    this.particles = this.particles.filter(p => p.alpha > 0 && p.age < p.life);
    if (this.particles.length === 0) {
      this.isFinished = true;
    }
    this.age++;
  }
  draw() {
    this.particles.forEach(p => p.draw());
  }
}

const explosions = [];

function createExplosion() {
  const x = Math.random() * window.innerWidth;
  const y = Math.random() * window.innerHeight;
  const colorScheme = ["#ff7f00", "#ffbf00", "#ffff00", "#ffffff", "#ff0000", "#ffa500"];
  const explosion = new Explosion(x, y, colorScheme);
  explosions.push(explosion);
}

function animate() {
  ctx.fillStyle = "rgba(0, 0, 0, 0.2)";
  ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);
  explosions.forEach(exp => {
    exp.update();
    exp.draw();
  });
  // Remove finished explosions
  for (let i = explosions.length - 1; i >= 0; i--) {
    if (explosions[i].isFinished) {
      explosions.splice(i, 1);
    }
  }
  requestAnimationFrame(animate);
}

// Generate initial explosions
function initExplosions() {
  const explosionCount = Math.floor(Math.random() * 3) + 2;
  for (let i = 0; i < explosionCount; i++) {
    createExplosion();
  }
}

// Activate explosions at load
window.onload = () => {
  initExplosions();
  animate();
};
</script>
</body>
</html>