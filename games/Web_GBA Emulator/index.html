<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Web GBA Emulator</title>
<!-- Consider adding a custom font like 'Press Start 2P' via Google Fonts for authentic style -->
<link rel="stylesheet" href="css/styles.css" />
<!-- Optional: Google Fonts for retro style -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
</head>
<body>
<header>
<h1 style="font-family: 'Press Start 2P', cursive; font-size: 2em; color: #4CAF50; text-shadow: 2px 2px #000;">GBA Emulator</h1>
<!-- Controls for ROM loading and Power -->
<div class="controls" style="display:flex; gap:10px; align-items:center;">
  <button id="powerBtn" title="Power On/Off"
    style="margin: 0 5px; padding: 12px 20px; font-size: 1em; background: linear-gradient(45deg, #27ae60, #2ecc71); border:none; border-radius:6px; color:#fff; cursor:pointer; box-shadow: 2px 2px 8px rgba(0,0,0,0.3);">
    Power
  </button>
  <button id="resetBtn" title="Reset Cartridge"
    style="margin: 0 5px; padding: 12px 20px; font-size: 1em; background: linear-gradient(45deg, #c0392b, #e74c3c); border:none; border-radius:6px; color:#fff; cursor:pointer; box-shadow: 2px 2px 8px rgba(0,0,0,0.3);">
    Reset
  </button>
  <button id="loadRomBtn" title="Load ROM"
    style="margin: 0 5px; padding: 12px 20px; font-size: 1em; background: linear-gradient(45deg, #2980b9, #3498db); border:none; border-radius:6px; color:#fff; cursor:pointer; box-shadow: 2px 2px 8px rgba(0,0,0,0.3);">
    Load ROM
  </button>
  <input type="file" id="romFileInput" accept=".gba,.zip" style="display:none" />
</div>
</header>

<main style=" display:flex; flex-direction:column; align-items:center; padding:10px;">
  <!-- Emulator Display -->
  <div id="emulatorContainer" style="width:auto; max-width:100%; display:flex; justify-content:center; align-items:center; background: linear-gradient(135deg, #1a1a1a, #333); border-radius:12px; padding:20px; box-shadow: inset 0 0 15px rgba(0,0,0,0.5); margin-bottom:15px;">
    <canvas id="gbaCanvas" width="240" height="160" aria-label="GBA screen" style="border: 4px solid #444; border-radius:8px; background: linear-gradient(to bottom, #222, #111); image-rendering: pixelated; width: 240px; height: 160px; box-shadow: 0 4px 8px rgba(0,0,0,0.4); transform: scale(2); transition: transform 0.2s ease;"></canvas>
  </div>
  
  <!-- Input Controls (D-Pad, Buttons) -->
  <section id="gameControls" aria-label="Game controls" style="display:flex; flex-wrap:wrap; gap:10px; justify-content:center;">
    <!-- Direction Pad -->
    <div style="display:flex; flex-direction:column; align-items:center;">
      <button id="dpadUp" aria-label="Up" style="padding:10px 15px; background: linear-gradient(45deg, #16a085, #27ae60); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3); cursor:pointer;">Up</button>
      <div style="display:flex; justify-content:space-between; width:100%;">
        <button id="dpadLeft" aria-label="Left" style="padding:10px 15px; background: linear-gradient(45deg, #16a085, #27ae60); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3); cursor:pointer;">Left</button>
        <button id="dpadRight" aria-label="Right" style="padding:10px 15px; background: linear-gradient(45deg, #16a085, #27ae60); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3); cursor:pointer;">Right</button>
      </div>
      <button id="dpadDown" aria-label="Down" style="padding:10px 15px; background: linear-gradient(45deg, #16a085, #27ae60); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3); cursor:pointer;">Down</button>
    </div>
    <!-- Action Buttons -->
    <div style="display:flex; flex-direction:column; align-items:center; gap:8px;">
      <button id="btnA" aria-label="Button A" style="padding:10px 20px; background: linear-gradient(45deg, #8e44ad, #9b59b6); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3);">A</button>
      <button id="btnB" aria-label="Button B" style="padding:10px 20px; background: linear-gradient(45deg, #d35400, #e67e22); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3);">B</button>
      <button id="btnL" aria-label="Button L" style="padding:10px 20px; background: linear-gradient(45deg, #f39c12, #f1c40f); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3);">L</button>
      <button id="btnR" aria-label="Button R" style="padding:10px 20px; background: linear-gradient(45deg, #e74c3c, #c0392b); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3);">R</button>
    </div>
    <!-- Start and Select -->
    <div style="display:flex; flex-direction:column; align-items:center; gap:8px;">
      <button id="btnStart" aria-label="Start" style="padding:10px 20px; background: linear-gradient(45deg, #2c3e50, #34495e); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3);">Start</button>
      <button id="btnSelect" aria-label="Select" style="padding:10px 20px; background: linear-gradient(45deg, #7f8c8d, #95a5a6); border:none; border-radius:8px; color:#fff; font-weight:bold; box-shadow: 1px 1px 4px rgba(0,0,0,0.3);">Select</button>
    </div>
  </section>

  <!-- Status and Metrics -->
  <div id="statusBar" style="margin-top:15px; padding:8px; background:linear-gradient(135deg, #111, #222); border-radius:8px; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); max-width: 350px; width: 100%;">
    <p id="statusText" style="margin:0; font-size:1em; font-family: 'Press Start 2P', cursive; color:#fff;">Status: Idle</p>
    <p id="fpsDisplay" style="margin:0; font-size:1em; font-family: 'Press Start 2P', cursive; color:#fff;">FPS: 0</p>
  </div>
</main>

<!-- Settings Modal -->
<div id="settingsModal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; align-items:center; justify-content:center; background: rgba(0,0,0,0.6); z-index:1000;">
  <div class="modal-content" style="background:#fff; border-radius:12px; max-width:350px; width:90%; padding:20px; box-shadow: 0 10px 20px rgba(0,0,0,0.4); position:relative;">
    <span class="close" id="closeSettings" style="position:absolute; top:15px; right:20px; font-size:1.5em; cursor:pointer; color:#333;">&times;</span>
    <h2 style="font-family: 'Press Start 2P', cursive; font-size:1.5em; text-align:center;">Settings</h2>
    <label for="volumeRange" style="display:block; margin-top:15px; font-family: 'Press Start 2P', cursive; font-size:1em; color:#444;">Volume:</label>
    <input type="range" id="volumeRange" min="0" max="1" step="0.01" value="0.5" style="width:100%; margin-top:8px;">
    <label for="scaleSelect" style="display:block; margin-top:15px; font-family: 'Press Start 2P', cursive; font-size:1em; color:#444;">Display Scale:</label>
    <select id="scaleSelect" style="width:100%; padding:8px; margin-top:8px; border-radius:6px; font-family:'Press Start 2P', cursive; font-size:1em; background:#eee; border:2px solid #ccc;">
      <option value="1">1x</option>
      <option value="2">2x</option>
      <option value="3">3x</option>
    </select>
    <button id="saveSettings" style="margin-top:20px; width:100%; padding:12px; border:none; border-radius:8px; font-family: 'Press Start 2P', cursive; font-size:1.2em; background:#2980b9; color:#fff; cursor:pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.3);">
      Save
    </button>
  </div>
</div>

<!-- Hidden input for file upload -->
<input type="file" id="romFileInput" accept=".gba,.zip" style="display:none" />

<!-- Scripts: emulator core, app logic (to be developed) -->
<script src="js/emulator.js"></script>
<script src="js/app.js"></script>

</body>
</html>