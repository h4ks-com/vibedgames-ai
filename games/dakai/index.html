<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Frame WebVR World</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body { margin: 0; }
        #info { position: absolute; top: 10px; left: 10px; color: white; font-size: 24px; }
    </style>
</head>
<body>
    <div id="info"></div>
    <a-scene>
        <a-sky id="sky" color="#000000"></a-sky>
        <a-plane id="floor" rotation="-90 0 0" width="1000" height="1000" color="#00FF00"></a-plane>

        <script>
            // Function to generate random color
            function getRandomColor() {
                const r = Math.floor(Math.random() * (200 - 127)) + 127;
                const g = Math.floor(Math.random() * (140 - 15)) + 15;
                const b = Math.floor(Math.random() * (30 - 10)) + 10;
                return `rgb(${r}, ${g}, ${b})`;
            }

            // Function to create buildings
            function createBuildings() {
                for (let i = 0; i < 100; i++) {
                    const building = document.createElement('a-box');
                    const size = Math.random() * 10 + 1;

                    building.setAttribute('position', `${(Math.random() - 0.5) * 100} ${size / 2} ${(Math.random() - 0.5) * 100}`);
                    building.setAttribute('depth', 1);
                    building.setAttribute('height', size);
                    building.setAttribute('width', 1);
                    building.setAttribute('color', getRandomColor());

                    const sideColor = Math.random() < 0.5 ? 'black' : 'yellow';
                    const side = document.createElement('a-box');
                    side.setAttribute('position', `0 ${size / 2} 0`);
                    side.setAttribute('depth', 1);
                    side.setAttribute('height', size);
                    side.setAttribute('width', 0.1);
                    side.setAttribute('color', sideColor);
                    building.appendChild(side);

                    document.querySelector('a-scene').appendChild(building);
                }
            }

            // Function to update random string
            function getRandomString() {
                const phrases = ["Hello VR World", "A-Frame Rocks", "WebVR is Fun", "Building 3D Worlds", "Random Text Here"];
                return phrases[Math.floor(Math.random() * phrases.length)];
            }

            // Function to create spheres with labels
            function createSpheres() {
                for (let i = 0; i < 10; i++) {
                    const sphere = document.createElement('a-sphere');
                    sphere.setAttribute('position', `${(Math.random() - 0.5) * 50} ${(Math.random() * 5) + 1} ${(Math.random() - 0.5) * 50}`);
                    sphere.setAttribute('radius', 0.5);
                    sphere.setAttribute('color', 'blue');
                    document.querySelector('a-scene').appendChild(sphere);

                    const label = document.createElement('a-text');
                    label.setAttribute('value', getRandomString());
                    label.setAttribute('color', 'white');
                    label.setAttribute('position', `0 0 0.7`);
                    sphere.appendChild(label);
                }
            }

            // Initialize scene
            function init() {
                // Set random sky color
                const sky = document.querySelector('#sky');
                sky.setAttribute('color', `hsl(${Math.random() * 360}, 100%, 50%)`);

                // Set random floor color
                const floor = document.querySelector('#floor');
                floor.setAttribute('color', getRandomColor());

                createBuildings();
                createSpheres();

                // Update random string every second
                setInterval(() => {
                    const randomString = getRandomString();
                    document.querySelector('#info').innerText = randomString;
                }, 1000);

                // Update spheres every 10 seconds
                setInterval(() => {
                    const spheres = document.querySelectorAll("a-sphere");
                    spheres.forEach(sphere => {
                        const label = sphere.querySelector("a-text");
                        label.setAttribute('value', getRandomString());
                    });
                }, 10000);
            }

            window.onload = init;

        </script>
    </a-scene>
</body>
</html>
