<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Frame WebVR World</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body { margin: 0; }
        #info {
            position: absolute; 
            top: 10px; 
            left: 10px; 
            color: white; 
            font-size: 24px; 
            z-index: 10; 
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <div id="info"></div>
    <a-scene>
        <a-sky id="sky"></a-sky>
        <a-plane id="floor" rotation="-90 0 0" width="1000" height="1000"></a-plane>

        <script>
            // Function to generate a random color
            function getRandomColor() {
                const r = Math.floor(Math.random() * (200 - 127)) + 127;
                const g = Math.floor(Math.random() * (140 - 15)) + 15;
                const b = Math.floor(Math.random() * (30 - 10)) + 10;
                return `rgb(${r}, ${g}, ${b})`;
            }

            // Function to create buildings
            function createBuildings() {
                for (let i = 0; i < 1000; i++) {
                    const building = document.createElement('a-box');
                    const size = Math.random() * 5 + 1;

                    // Set position and size
                    building.setAttribute('position', `${(Math.random() - 0.5) * 200} ${size / 2} ${(Math.random() - 0.5) * 200}`);
                    building.setAttribute('depth', 1);
                    building.setAttribute('height', size);
                    building.setAttribute('width', 1);
                    building.setAttribute('color', getRandomColor());

                    // Adding a random black or yellow rectangle on the side (windows)
                    const windowColor = Math.random() < 0.5 ? 'black' : 'yellow';
                    const window = document.createElement('a-box');
                    window.setAttribute('position', `0 ${size / 2} 0`);
                    window.setAttribute('depth', 0.1);
                    window.setAttribute('height', size * 0.5);
                    window.setAttribute('width', 0.2);
                    window.setAttribute('color', windowColor);
                    building.appendChild(window);

                    document.querySelector('a-scene').appendChild(building);
                }
            }

            // Function to generate a random string
            function getRandomString() {
                const phrases = [
                    "Welcome to the VR World!",
                    "Explore the A-Frame Environment",
                    "Dynamic Building Heights!",
                    "Random windows everywhere!",
                    "Keep looking up and around!",
                    "Colors and Shapes in 3D!",
                    "What will you discover next?",
                    "A-Frame makes it easy!",
                    "WebVR: The Future is Now!",
                    "Enjoy your 3D experience!"
                ];
                return phrases[Math.floor(Math.random() * phrases.length)];
            }

            // Function to create spheres with labels
            function createSpheres() {
                for (let i = 0; i < 10; i++) {
                    const sphere = document.createElement('a-sphere');
                    sphere.setAttribute('position', `${(Math.random() - 0.5) * 100} ${(Math.random() * 5) + 1} ${(Math.random() - 0.5) * 100}`);
                    sphere.setAttribute('radius', 0.5);
                    sphere.setAttribute('color', 'blue');
                    document.querySelector('a-scene').appendChild(sphere);

                    const label = document.createElement('a-text');
                    label.setAttribute('value', getRandomString());
                    label.setAttribute('color', 'white');
                    label.setAttribute('position', `0 0.7 0`);
                    sphere.appendChild(label);
                }
            }

            // Initialize scene
            function init() {
                // Set random sky color
                const sky = document.querySelector('#sky');
                sky.setAttribute('color', `hsl(${Math.random() * 360}, 100%, 50%)`);

                // Set random floor color
                const floor = document.querySelector('#floor');
                floor.setAttribute('color', getRandomColor());

                createBuildings();
                createSpheres();

                // Update random string every second
                const infoDiv = document.querySelector('#info');
                setInterval(() => {
                    const randomString = getRandomString();
                    infoDiv.innerText = randomString;
                }, 1000);

                // Update spheres every 10 seconds
                setInterval(() => {
                    const spheres = document.querySelectorAll("a-sphere");
                    spheres.forEach(sphere => {
                        const label = sphere.querySelector("a-text");
                        label.setAttribute('value', getRandomString());
                    });
                }, 10000);
            }

            window.onload = init;

        </script>
    </a-scene>
</body>
</html>
