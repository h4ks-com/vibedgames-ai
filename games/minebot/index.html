// server.js
const express = require('express');
const { createBot } = require('mineflayer');

const app = express();
const port = 3000;

app.use(express.json());
app.use(express.static('public')); // Serve static files from the 'public' directory

app.post('/connect', (req, res) => {
    const { serverAddress } = req.body;

    const bot = createBot({
        host: serverAddress,
        port: 25565, // Default Minecraft port
        username: 'Bot', // Change this to your bot's username
    });

    bot.on('spawn', () => {
        console.log(`Connected to ${serverAddress}`);
        res.json({ message: `Connected to ${serverAddress}` });
    });

    bot.on('error', (err) => {
        console.error(err);
        res.status(500).json({ message: 'Failed to connect to server' });
    });
});

app.listen(port, () => {
    console.log(`Server running at http://localhost:${port}`);
});
