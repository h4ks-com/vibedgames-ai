/* Toilet 3: Warp Flush – Compliance Prototype styling (enhanced) */
:root {
  --bg: #0e0e12;
  --panel: #1a1a1a;
  --surface: #f8faff;
  --accent: #4cc9f0;
  --text: #e8e8e8;
  --muted: #8c92a3;
  --card: rgba(255, 255, 255, 0.95);
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: Inter, system-ui, Roboto, Arial, sans-serif; background: var(--bg); color: var(--text); }

/* Accessibility */
.skip-link { position: absolute; left: -999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
.skip-link:focus { left: 12px; top: 12px; width: auto; height: auto; padding: 8px 12px; background: #fff; color: #000; z-index: 9999; border-radius: 4px; }

#app { padding: 14px; display: grid; grid-template-rows: auto 1fr; gap: 12px; }

.header { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; padding: 12px 16px; border-radius: 12px; 
  background: linear-gradient(135deg, #1f1f2a 0%, #2a2a3a 60%, #1f1f2a 100%); color: white; box-shadow: 0 8px 20px rgba(0,0,0,.25); }
.header h1 { font-size: 1.25rem; margin: 0; }
.header .subtitle { margin: 6px 0 0 0; color: #d6d6d6; font-size: 0.9rem; }

.header-actions { display: flex; gap: 8px; align-items: center; }
.header-actions button { background: #2b2b3f; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; box-shadow: inset 0 1px 0 rgba(255,255,255,.05); }
.header-actions button:hover { background: #3b3b64; }

.content { display: grid; grid-template-columns: 1fr 420px; gap: 14px; align-items: start; min-height: 0; }

.scene-area { position: relative; border-radius: 12px; overflow: hidden; background: #0b0f15; border: 1px solid #333; min-height: 360px; }
#scene { width: 100%; height: auto; display: block; background: #0b1020; }

.captain-panel { position: absolute; bottom: 12px; left: 12px; background: rgba(255,255,255,0.92); padding: 8px; border-radius: 8px; display: flex; align-items: center; gap: 10px; 
  max-width: calc(100% - 24px); box-shadow: 0 4px 12px rgba(0,0,0,.15); }
.captain-panel .avatar { width: 42px; height: 42px; border-radius: 50%; background: conic-gradient(from 180deg at 50% 50%, #4cc9f0, #2b8bd9, #4cc9f0); }
.captain-panel .caption { font-size: 12px; line-height: 1.25; max-width: 320px; }
.captain-panel .note { display: block; font-size: 9px; color: #555; margin-top: 4px; }

.panel { background: var(--card); padding: 12px; border-radius: 12px; border: 1px solid #e8e8e8; box-shadow: 0 2px 12px rgba(0,0,0,.08); }
.panel h2 { margin: 0 0 8px 0; font-size: 1.05rem; }

.compliance { padding: 12px; }

.task-list { display: grid; gap: 8px; max-height: 420px; overflow: auto; padding-right: 6px; }
.task-item { padding: 6px 0; border-bottom: 1px solid #e3e3e3; display: flex; align-items: center; gap: 8px; }
.task-item input[type="checkbox"] { transform: scale(1.15); }
.task-item span { font-size: 13px; color: #333; }
.milestones { margin-top: 8px; font-size: 12px; color: #555; }

/* Expanded detail sections styling for task routes */
details {
  background: rgba(255,255,255,0.95);
  border: 1px solid #e1e1e1;
  border-radius: 10px;
  padding: 8px 10px;
  margin-bottom: 8px;
}
details summary {
  font-weight: 600;
  cursor: pointer;
  display: block;
  padding: 6px 0;
  position: relative;
}
details summary::-webkit-details-marker { display: none; }
details summary::after {
  content: " ▾";
  float: right;
  font-size: 0.9em;
  color: #555;
}
details[open] summary::after { content: " ▴"; }

/* Section-specific helpers to visually separate concept areas */
.panel.design, .panel.vfx, .panel.production, .panel.audio { background: rgba(255,255,255,0.96); }

@media (max-width: 980px) {
  .content { grid-template-columns: 1fr; }
  .captain-panel { bottom: auto; top: 12px; left: 12px; }
  #scene { height: 420px; }
}
