<!DOCTYPE html>
<html>
<head>
    <title>Random Cars Driving by</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000; /* Background color for the body */
        }
        a-scene {
            display: block; /* Ensure the scene takes whole viewport */
        }
        .car {
            height: 0.5;
            width: 1;
            depth: 0.5;
        }
    </style>
</head>
<body>
    <a-scene>
        <!-- Green Floor -->
        <a-box position="0 0.05 0" width="100" height="0.1" depth="100" color="green"></a-box>
        
        <!-- Black Main Road -->
        <a-box position="0 0.05 0" width="5" height="0.1" depth="100" color="black"></a-box>
        
        <!-- Forking Roads -->
        <a-box position="2.5 0.05 -15" width="5" height="0.1" depth="30" color="black" rotation="0 45 0"></a-box>
        <a-box position="-2.5 0.05 -15" width="5" height="0.1" depth="30" color="black" rotation="0 -45 0"></a-box>
        
        <!-- Camera -->
        <a-camera position="0 2 10"></a-camera>
        
        <!-- Sky -->
        <a-sky color="#87CEEB"></a-sky>

        <!-- Cars will be generated here -->
        <a-entity id="cars"></a-entity>
    </a-scene>

    <script>
        function createCar() {
            const carColors = ['red', 'blue', 'yellow', 'green', 'purple', 'orange'];
            const car = document.createElement('a-box');
            const randomColor = carColors[Math.floor(Math.random() * carColors.length)];
            const randomSpeed = Math.random() * 5 + 2; // Random speed between 2 and 7 units
            const randomLane = Math.random() > 0.5 ? -2.5 : 2.5; // Randomly choose between two lanes
            const startZ = 50; // Start from the back of the road
            const endZ = -50; // End near the camera

            car.setAttribute('class', 'car');
            car.setAttribute('color', randomColor);
            car.setAttribute('position', `${randomLane} 0.25 ${startZ}`);
            car.setAttribute('scale', '1 0.5 0.5');

            // Add car to the scene
            document.getElementById('cars').appendChild(car);

            // Move the car
            let positionZ = startZ;
            function drive() {
                positionZ -= randomSpeed;
                car.setAttribute('position', `${randomLane} 0.25 ${positionZ}`);
                if (positionZ < endZ) {
                    // Reset car position after it leaves the scene
                    positionZ = startZ;
                    randomSpeed = Math.random() * 5 + 2; // Reset speed
                }
                requestAnimationFrame(drive);
            }
            requestAnimationFrame(drive);
        }

        // Create cars at random intervals
        setInterval(createCar, 1000); // Create a new car every second
    </script>
</body>
</html>
