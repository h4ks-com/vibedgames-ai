<!DOCTYPE html>
<html>
<head>
    <title>Billboard for 'Eat Beans'</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000; /* Background color for the body */
        }
        a-scene {
            display: block; /* Ensure the scene takes whole viewport */
        }
    </style>
</head>
<body>
    <a-scene>
        <!-- Green Floor -->
        <a-box position="0 0.05 0" width="100" height="0.1" depth="100" color="green"></a-box>
        
        <!-- Black Main Road - Slightly Elevated -->
        <a-box position="0 0.15 0" width="5" height="0.1" depth="100" color="black"></a-box>
        
        <!-- Camera -->
        <a-camera position="0 5 20"></a-camera>
        
        <!-- Sky -->
        <a-sky color="#87CEEB"></a-sky>
        
        <!-- Billboard Container -->
        <a-entity id="billboards"></a-entity>
        
        <!-- Cars will be generated here -->
        <a-entity id="cars"></a-entity>
    </a-scene>

    <script>
        function createBuildingOrBillboard() {
            // Randomly decide if the structure is a building or a billboard
            const isBillboard = Math.random() < 0.3; // 30% chance to be a billboard
            
            const randomWidth = Math.random() * 4 + 1; // Width between 1 and 5
            const randomDepth = Math.random() * 4 + 1; // Depth between 1 and 5
            const randomHeight = isBillboard ? 2 : Math.random() * 10 + 3; // Height is 2 for billboards, else 3-13
            const xPosition = Math.random() * 80 - 40; // Random X position
            const zPosition = Math.random() * 80 - 40; // Random Z position

            if (isBillboard && Math.abs(xPosition) <= 2.5) {
                // Create a billboard if within road area
                const billboard = document.createElement('a-plane');
                billboard.setAttribute('width', randomWidth);
                billboard.setAttribute('height', randomHeight);
                billboard.setAttribute('color', 'blue');
                billboard.setAttribute('position', `${xPosition} ${randomHeight / 2} ${zPosition}`);
                billboard.setAttribute('rotation', '0 0 0');
                
                // Add text to the billboard
                const text = document.createElement('a-text');
                text.setAttribute('value', 'Eat Beans');
                text.setAttribute('align', 'center');
                text.setAttribute('position', '0 0 0.1'); // Slightly in front of the billboard
                text.setAttribute('color', 'white'); // Text color

                billboard.appendChild(text);
                document.getElementById('billboards').appendChild(billboard);
            } else {
                // Create normal building
                const building = document.createElement('a-box');
                const randomColor = `hsl(${Math.random() * 360}, 100%, 50%)`; // Random color

                building.setAttribute('color', randomColor);
                building.setAttribute('width', randomWidth);
                building.setAttribute('depth', randomDepth);
                building.setAttribute('height', randomHeight);
                building.setAttribute('position', `${xPosition} ${randomHeight / 2} ${zPosition}`);

                // Attach building to the scene
                document.getElementById('billboards').appendChild(building);
            }
        }

        function createCar() {
            const carColors = ['red', 'blue', 'yellow', 'green', 'purple', 'orange'];
            const car = document.createElement('a-box');
            const randomColor = carColors[Math.floor(Math.random() * carColors.length)];
            const randomLane = Math.random() > 0.5 ? -2.5 : 2.5; // Randomly choose between two lanes
            const startZ = 50; // Start from the back of the road
            const endZ = -50; // End near the camera
            const randomSpeed = (Math.random() * 3 + 2) * 0.5; // Random speed between 1 and 3.5 units (50% of previous)

            car.setAttribute('color', randomColor);
            car.setAttribute('position', `${randomLane} 0.25 ${startZ}`);
            car.setAttribute('scale', '1 0.5 0.5');

            // Add car to the scene
            document.getElementById('cars').appendChild(car);

            // Move the car
            let positionZ = startZ;
            function drive() {
                positionZ -= randomSpeed;
                car.setAttribute('position', `${randomLane} 0.25 ${positionZ}`);
                if (positionZ < endZ) {
                    // Reset car position after it leaves the scene
                    positionZ = startZ;
                }
                requestAnimationFrame(drive);
            }
            requestAnimationFrame(drive);
        }

        // Create 10 buildings/billboards
        for (let i = 0; i < 10; i++) {
            createBuildingOrBillboard();
        }

        // Create cars at random intervals
        setInterval(createCar, 1000); // Create a new car every second
    </script>
</body>
</html>
