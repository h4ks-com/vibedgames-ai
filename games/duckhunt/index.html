<!DOCTYPE html>
<html>
  <head>
    <title>Duck Clicker</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #f0f0f0;
        overflow: hidden; /* Prevent scrollbars */
      }
      #score {
        font-size: 2rem;
        text-align: center;
        position: absolute;
        top: 10px;
      }
      .duck {
        position: absolute;
        background-repeat: no-repeat;
        background-size: contain;
        transition: all 0.5s ease-in-out;
        cursor: pointer;
      }
      .duck-left {
        transform: scaleX(-1);
      }

      @keyframes moveLeft {
        from {
          right: -50px;
        }
        to {
          right: 100%;
        }
      }

      @keyframes moveRight {
        from {
          left: -50px;
        }
        to {
          left: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div id="score">Score: 0</div>
    <script>
      const score = document.getElementById('score');
      let points = 0;
      const gameWindowHeight = window.innerHeight;

      function getRandomHeight() {
        const minHeight = 50;
        const maxHeight = gameWindowHeight - 100;
        return Math.floor(Math.random() * (maxHeight - minHeight + 1) + minHeight);
      }

      function getRandomSize() {
        const minSize = 40;
        const maxSize = 80;
        return Math.floor(Math.random() * (maxSize - minSize + 1) + minSize);
      }

      function spawnDuck() {
        const duck = document.createElement('div');
        duck.classList.add('duck');

        const duckSize = getRandomSize();
        duck.style.width = `${duckSize}px`;
        duck.style.height = `${duckSize}px`;

        const direction = Math.random() > 0.5 ? 'left' : 'right';
        const duckHeight = getRandomHeight();

        duck.style.top = `${duckHeight}px`;

        if (direction === 'left') {
          duck.classList.add('duck-left');
          duck.style.right = '-50px';
        } else {
          duck.style.left = '-50px';
        }

        duck.style.backgroundImage = `url('https://i.ibb.co/PSPNVMd/duck.gif')`;
        document.body.appendChild(duck);

        const animationDuration = 7.5; // 5s * 1.5 = 7.5s (50% slower)

        setTimeout(() => {
          duck.remove();
        }, animationDuration * 1000); // No longer respawning, will be handled in the main loop

        duck.addEventListener('click', () => {
          duck.remove();
          points++;
          score.textContent = `Score: ${points}`;
        });

        if (direction === 'left') {
          duck.style.animation = `moveLeft ${animationDuration}s forwards linear`;
        } else {
          duck.style.animation = `moveRight ${animationDuration}s forwards linear`;
        }
      }

      function spawnMultipleDucks() {
        const numberOfDucks = Math.floor(Math.random() * 3) + 1; // Spawn 1-3 ducks
        for (let i = 0; i < numberOfDucks; i++) {
          spawnDuck();
        }
        setTimeout(spawnMultipleDucks, Math.random() * 3000 + 1000); // Random delay between 1 and 4 seconds
      }

      spawnMultipleDucks();
    </script>
  </body>
</html>
