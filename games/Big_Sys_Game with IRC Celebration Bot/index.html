<!DOCTYPE html>
<html>
<head>
<title>Big_Sys Game - Celebration Integration</title>
<link rel="stylesheet" href="style.css">
<!-- Include CSS for celebration effects -->
<link rel="stylesheet" href="celebration.css">
</head>
<body>
<h1>Welcome to Big_Sys</h1>
<canvas id="gameCanvas" width="800" height="600"></canvas>
<!-- Container for celebration messages and animations -->
<div id="celebrationContainer" style="position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; display: none;"></div>
<!-- Optional settings menu for toggling celebrations -->
<div id="settingsMenu" style="position: fixed; top:10px; right:10px; background:#fff; padding:10px; border-radius:5px; box-shadow:0 0 10px rgba(0,0,0,0.3);">
<label><input type="checkbox" id="toggleCelebrations" checked> Enable Celebrations</label>
</div>
<!-- Include main game script -->
<script src="main.js"></script>
<!-- Include celebration bot script -->
<script src="celebrationBot.js"></script>
<!-- Inline script to initialize and handle celebration triggers -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const celebrationContainer = document.getElementById('celebrationContainer');
    const toggleCelebrations = document.getElementById('toggleCelebrations');
    let celebrationsEnabled = toggleCelebrations.checked;

    toggleCelebrations.addEventListener('change', () => {
      celebrationsEnabled = toggleCelebrations.checked;
    });

    // Initialize the celebration bot with configuration
    const celebrationBot = new CelebrationBot({
      container: celebrationContainer,
      messageStyle: 'font-family: Arial, sans-serif; font-size: 24px; color: #333;',
      animationSpeed: 1.0
    });

    // Example function to trigger celebration on specific game event
    function onGameMilestone(milestoneText) {
      if (celebrationsEnabled) {
        celebrationBot.triggerCelebration(milestoneText);
      }
    }

    // Example: integrate with game logic - replace with actual game event calls
    // For demo, trigger a celebration after 3 seconds
    setTimeout(() => {
      onGameMilestone('Congratulations! Project Milestone Achieved!');
    }, 3000);

    // Expose the celebration trigger to global scope for game scripts to call
    window.triggerGameCelebration = onGameMilestone;
  });
</script>
<!-- IRC bot connection setup and message handling with proper NICK, USER, and JOIN -->
<script>
  // IRC Bot Connection and Commands
  const irc = new WebSocket('wss://your-irc-websocket-server');
  const botNick = 'MyBot';
  const botUser = 'mybotuser';
  const channel = '#lobby';

  irc.onopen = () => {
    // Send NICK and USER commands upon connection
    irc.send(`NICK ${botNick}\r\n`);
    irc.send(`USER ${botUser} 0 * :My IRC Bot\r\n`);
  };

  irc.onmessage = (event) => {
    const message = event.data;
    // Parse server messages and respond accordingly
    if (/^:.* 001 /.test(message)) {
      // 001 indicates welcome, join channel after welcome
      irc.send(`JOIN ${channel}\r\n`);
    } else if (/^PING :.*$/i.test(message)) {
      // Respond to server PING to keep connection alive
      irc.send(`PONG :${message.split(':')[1]}\r\n`);
    } else if (/^:.*PRIVMSG ${channel} :/.test(message)) {
      // Handle messages in the channel if needed
    }
  };

  // Function to send messages to the channel
  function sendChannelMessage(msg) {
    irc.send(`PRIVMSG ${channel} :${msg}\r\n`);
  }
</script>
</body>
</html>