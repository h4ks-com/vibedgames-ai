<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-image: url('https://picsum.photos/32/32');
            background-size: 32px 32px;
        }
        
        .player {
            position: absolute;
            font-size: 50px;
            will-change: transform;
            transition: transform 0.1s;
            pointer-events: none;
        }
        
        .monster {
            position: absolute;
            font-size: 30px;
            pointer-events: none;
        }
        
        .gem {
            position: absolute;
            font-size: 30px;
            pointer-events: none;
        }

        #score, #health {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 20px;
            color: white;
            z-index: 10;
        }
    </style>
</head>
<body>

    <div class="player" id="player">ðŸ‘¾</div>
    <div id="score">Score: 0</div>
    <div id="health">Health: 100</div>

    <script>
        const player = document.getElementById('player');
        const scoreDisplay = document.getElementById('score');
        const healthDisplay = document.getElementById('health');
        let score = 0;
        let health = 100;
        let playerX = window.innerWidth / 2;
        let playerY = window.innerHeight / 2;

        // Update player position based on direction to mouse
        document.addEventListener('mousemove', (e) => {
            const dx = e.pageX - playerX;
            const dy = e.pageY - playerY;
            const angle = Math.atan2(dy, dx);
            playerX += Math.cos(angle) * 5; // Move 5 pixels towards the mouse
            playerY += Math.sin(angle) * 5; // Move 5 pixels towards the mouse
            player.style.transform = `translate(${playerX}px, ${playerY}px)`;
        });

        // Create monsters
        function createMonster() {
            const monster = document.createElement('div');
            monster.className = 'monster';
            monster.innerHTML = 'ðŸ‘¹';
            monster.style.left = Math.random() * window.innerWidth + 'px';
            monster.style.top = Math.random() * window.innerHeight + 'px';
            document.body.appendChild(monster);

            const moveMonster = setInterval(() => {
                const monsterRect = monster.getBoundingClientRect();
                const playerRect = player.getBoundingClientRect();
                const dx = playerRect.x - monsterRect.x;
                const dy = playerRect.y - monsterRect.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 50) {
                    clearInterval(moveMonster);
                    health -= 10;
                    healthDisplay.innerText = `Health: ${health}`;
                    monster.remove();
                    
                    if (health <= 0) {
                        alert('Game Over! Reloading...');
                        document.location.reload();
                    }
                } else {
                    const moveRate = 1; // Monster speed
                    monster.style.left = monsterRect.x + (dx / distance * moveRate) + 'px';
                    monster.style.top = monsterRect.y + (dy / distance * moveRate) + 'px';
                }
            }, 100);
        }

        // Create gems
        function createGem() {
            const gem = document.createElement('div');
            gem.className = 'gem';
            gem.innerHTML = 'ðŸ’Ž';
            gem.style.left = Math.random() * window.innerWidth + 'px';
            gem.style.top = Math.random() * window.innerHeight + 'px';
            document.body.appendChild(gem);

            gem.addEventListener('click', () => {
                score += 1;
                scoreDisplay.innerText = `Score: ${score}`;
                gem.remove();
            });
        }

        // Spawn monsters and gems at intervals
        setInterval(createMonster, 2000);
        setInterval(createGem, 3000);

        // Auto reload the page every 20 seconds
        setInterval(() => {
            document.location.reload();
        }, 20000);
    </script>
</body>
</html>
