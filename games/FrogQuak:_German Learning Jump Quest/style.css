:root {
  --bg: #eaf7f0;
  --fg: #0b2a1a;
  --surface: #ffffff;
  --card-bg: #ffffff;
  --accent: #28a745;
  --shadow: 0 6px 20px rgba(0,0,0,.15);
  --outline: 2px solid #3bd07a;
  --text-dim: #5a6b67;
  --card-edge: #e0e0e0;
}
[data-theme="dark"] {
  --bg: #0e1012;
  --fg: #e9f0f5;
  --surface: #141821;
  --card-bg: #1e232c;
  --accent: #7bd389;
  --shadow: 0 6px 20px rgba(0,0,0,.5);
  --text-dim: #a5b2ac;
  --card-edge: #2b2b2b;
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto; background: var(--bg); color: var(--fg); overflow: hidden; }

/* Core layout */
#game { width: 100%; height: auto; display: block; margin: 0 auto; image-rendering: crisp-edges; }

/* Top bar (accessible, high-contrast by theme) */
.topbar { position: fixed; top: 0; left: 0; right: 0; height: 54px; background: linear-gradient(#ffffff, #f5fffb); display:flex; justify-content: space-between; align-items: center; padding: 0 14px; z-index: 50; border-bottom: 1px solid #ccd; }
.topbar .left { font-size: 14px; display: flex; align-items: center; gap: 8px; }
.topbar .right { display: flex; gap: 8px; }
.btn { background: linear-gradient(#2e7d32, #1e5a25); color: white; border: none; padding: 10px 14px; border-radius: 10px; cursor: pointer; font-weight: 700; box-shadow: 0 4px 0 rgba(0,0,0,.05); }
.btn:focus { outline: 2px solid #3bd07a; outline-offset: 2px; }
.label { font-weight: 700; color: #2c3e50; }
.sep { margin: 0 6px; opacity: 0.6; }
.value { font-weight: 800; color: #2c6c2b; }

/* Card panel */
.card-panel { position: fixed; left: 50%; bottom: 16px; transform: translateX(-50%); width: min(560px, 92vw); background: rgba(255,255,255,0.98); border: 2px solid #ddd; border-radius: 12px; padding: 12px; display: flex; align-items: center; gap: 12px; z-index: 40; box-shadow: 0 12px 28px rgba(0,0,0,0.12); }
.card-face { display: flex; align-items: center; gap: 12px; padding: 8px; }
.cat-ring { background: #4CAF50; width: 28px; height: 28px; border-radius: 50%; }
.card-content { display: flex; flex-direction: column; line-height: 1.25; }
.card-word { font-size: 28px; font-weight: 800; }
.card-translation { font-size: 14px; color: #555; }
.card-pron { font-size: 12px; color: #555; }
.card-example { font-size: 12px; color: #333; margin-top: 6px; }

.map-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.35); display: flex; align-items: center; justify-content: center; z-index: 60; }
.map-panel { width: min(520px, 92vw); background: #fff; padding: 16px; border-radius: 12px; border: 2px solid #888; box-shadow: 0 8px 24px rgba(0,0,0,.15); }
.map-panel h2 { margin: 0 0 8px; font-size: 20px; }
.map-panel p { margin: 6px 0; }

/* Jump button for mobile */
#jumpBtn { display: inline-block; padding: 12px 14px; font-size: 16px; border-radius: 12px; background: linear-gradient(#1e88e5, #1565c0); color: white; border: none; position: fixed; bottom: 20px; right: 20px; z-index: 40; }

/* Subtle idle animation for aesthetic elements (no sickness) */
.idle { animation: idlePulse 6s ease-in-out infinite; }
@keyframes idlePulse { 0%,100%{ transform: scale(1); } 50%{ transform: scale(1.02); } }

/* Accessibility: focus outlines */
:focus-visible { outline: 3px solid #ffd54f; outline-offset: 2px; border-radius: 4px; }

/* Card category color mapping hooks (extend via extra classes) */
.cat-greetings { background: #4CAF50; border-color: #2b7b2b; }
.cat-numbers { background: #3F51B5; border-color: #2a3a8a; }
.cat-colors { background: #E91E63; border-color: #b0124a; }
.cat-nouns { background: #FF9800; border-color: #b26a00; }
.cat-phrases { background: #9C27B0; border-color: #6a1b8a; }

/* UI scaling presets for beginners: add a class on body to scale UI */
:root { --ui-scale: 1; }
 .scale-125 { --ui-scale: 1.25; font-size: 1.25em; }
 .scale-150 { --ui-scale: 1.5; font-size: 1.5em; }
 .scale-175 { --ui-scale: 1.75; font-size: 1.75em; }

/* Apply UI scale to major components for accessibility baseline */
body, button, .card-word { font-size: calc(14px * var(--ui-scale)); }

/* Localized, high-contrast text tweaks for UI portions */
.map-panel, .card-panel { color: var(--fg); }

/* Reduced motion preference handling */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}
