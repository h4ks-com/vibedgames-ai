<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame Random Circles</title>
    <script src="https://aframe.io/releases/v1.5.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('random-circle', {
        init: function () {
          const el = this.el;

          // Random position
          const x = (Math.random() - 0.5) * 10;
          const y = Math.random() * 3;
          const z = (Math.random() - 0.5) * 10;
          el.setAttribute('position', { x: x, y: y, z: z });

          // Random color
          const color = '#' + Math.floor(Math.random() * 16777215).toString(16);
          el.setAttribute('material', 'color', color);

          // Random radius
          const radius = Math.random() * 0.5 + 0.2;
          el.setAttribute('geometry', 'radius', radius);


          // Store random rotation axis
          this.rotationAxis = new THREE.Vector3(Math.random(), Math.random(), Math.random()).normalize();
          this.rotationSpeed = Math.random() * 50 + 20; //degrees per second

        },
        tick: function (time, deltaTime) {
          // Rotate randomly
          const el = this.el;
          const angle = this.rotationSpeed * deltaTime / 1000; // Convert to degrees per second

          el.object3D.rotateOnAxis(this.rotationAxis, THREE.MathUtils.degToRad(angle));
        }
      });
    </script>
    <style>
      body { margin: 0; overflow: hidden; }
      a-scene { position: fixed; top: 0; left: 0; width: 100%; height: 100%; }
    </style>
  </head>
  <body>
    <a-scene background="color: #222">
      <a-entity id="rig" movement-controls="constrainToNavMesh: false;" position="0 1.6 0">
        <a-entity id="camera" camera look-controls wasd-controls></a-entity>
        <a-entity id="cursor" 
                  cursor="rayOrigin: mouse;" 
                  raycaster="objects: .clickable"
                  visible="false"></a-entity>
      </a-entity>

      <a-entity light="type: ambient; color: #EEE"></a-entity>
      <a-entity light="type: point; intensity: 0.8; color: #FFF; position: 2 4 0"></a-entity>

      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>
      <a-entity random-circle geometry="primitive: sphere" material="roughness: 0.8" class="clickable"></a-entity>

      <a-sky color="#87CEEB"></a-sky>
    </a-scene>
  </body>
</html>
